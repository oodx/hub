================================================================================
üêî CHINA'S PROPOSED CARGO.TOML STRUCTURE EGG #2 ü•ö
================================================================================

üìã EGG METADATA
===============
Date: 2025-09-21
Time: Current analysis session
Agent: Claude Code Assistant
Topic: Proposed New Cargo.toml Structure
Target: Clean restructured Cargo.toml with -ext naming and clap removal

üéØ EXECUTIVE SUMMARY
===================
Complete restructuring of Cargo.toml that:
‚úÖ Removes ALL clap references
‚úÖ Renames external package groups with -ext suffix
‚úÖ Reserves top-level namespace for internal oodx/rsb modules
‚úÖ Provides clean organization and future extensibility

================================================================================
üîß PROPOSED NEW CARGO.TOML STRUCTURE
================================================================================

[package]
name = "hub"
version = "0.4.0"  # Bump version for breaking changes
description = "Central hub for oodx/RSB ecosystem - dependency management and global utilities"
license = "AGPL-3.0"
repository = "https://github.com/oodx/hub"
edition = "2021"

[features]
default = []

# ============================================================================
# Individual External Dependency Features (alphabetical)
# ============================================================================
anyhow = ["dep:anyhow"]
base64 = ["dep:base64"]
chrono = ["dep:chrono"]
criterion = ["dep:criterion"]
glob = ["dep:glob"]
lazy_static = ["dep:lazy_static"]
libc = ["dep:libc"]
portable-pty = ["dep:portable-pty"]
rand = ["dep:rand"]
regex = ["dep:regex"]
serde = ["dep:serde"]
serde_json = ["dep:serde_json"]
serde_yaml = ["dep:serde_yaml"]
strip-ansi-escapes = ["dep:strip-ansi-escapes"]
tempfile = ["dep:tempfile"]
thiserror = ["dep:thiserror"]
tokio = ["dep:tokio"]
unicode-width = ["dep:unicode-width"]
urlencoding = ["dep:urlencoding"]
uuid = ["dep:uuid"]

# ============================================================================
# External Package Domain Groups (-ext suffix)
# ============================================================================
text-ext = ["regex", "lazy_static", "unicode-width", "strip-ansi-escapes"]
data-ext = ["serde", "serde_json", "base64", "serde_yaml"]
time-ext = ["chrono", "uuid"]
web-ext = ["urlencoding"]
system-ext = ["libc", "glob"]
dev-ext = ["portable-pty"]
random-ext = ["rand"]
async-ext = ["tokio"]
error-ext = ["anyhow", "thiserror"]
test-ext = ["criterion", "tempfile"]

# ============================================================================
# Internal oodx/rsb Module Groups (top-level namespace)
# ============================================================================
# NOTE: These are for internal oodx/rsb code only, no external dependencies
colors = []  # Internal color system (already implemented)

# Future internal module groups (when implemented):
# utils = []     # Internal utilities
# shared = []    # Shared infrastructure
# rsb = []       # RSB-specific functionality

# ============================================================================
# External Convenience Groups (-ext suffix)
# ============================================================================
common-ext = ["text-ext", "data-ext", "error-ext", "test-ext"]
core-ext = ["text-ext", "data-ext", "time-ext", "error-ext"]
extended-ext = ["text-ext", "data-ext", "time-ext", "web-ext", "system-ext", "error-ext"]
all-ext = [
    "text-ext",
    "data-ext",
    "time-ext",
    "web-ext",
    "system-ext",
    "dev-ext",
    "random-ext",
    "async-ext",
    "error-ext",
    "test-ext"
]

# ============================================================================
# Internal Convenience Groups (top-level namespace)
# ============================================================================
# NOTE: For internal oodx/rsb modules only
ecosystem = ["colors"]  # Current internal ecosystem

# Future internal convenience groups:
# core = ["colors", "utils"]              # Core internal functionality
# full-ecosystem = ["colors", "utils", "shared", "rsb"]  # Complete internal

# ============================================================================
# Mixed Groups (internal + external)
# ============================================================================
# These provide convenient combinations of internal and external features
starter = ["colors", "core-ext"]           # Internal colors + core external
complete = ["ecosystem", "extended-ext"]   # All internal + extended external
everything = ["ecosystem", "all-ext"]      # All internal + all external

# ============================================================================
# Legacy Compatibility (REMOVED - breaking change acceptable)
# ============================================================================
# All deps-* features removed as they provided no value
# All old domain names (without -ext) removed
# clap and cli features completely removed

[dependencies]
# ============================================================================
# External Dependencies (alphabetical, all optional)
# ============================================================================
anyhow = { version = "1.0", optional = true }
base64 = { version = "0.22.1", optional = true }
chrono = { version = "0.4.42", features = ["serde"], optional = true }
criterion = { version = "0.7.0", optional = true }
glob = { version = "0.3.3", optional = true }
lazy_static = { version = "1.5.0", optional = true }
libc = { version = "0.2.175", optional = true }
portable-pty = { version = "0.9", optional = true }
rand = { version = "0.9.2", optional = true }
regex = { version = "1.11.2", optional = true }
serde = { version = "1.0.226", features = ["derive"], optional = true }
serde_json = { version = "1.0.145", optional = true }
serde_yaml = { version = "0.9", optional = true }
strip-ansi-escapes = { version = "0.2", optional = true }
tempfile = { version = "3.22.0", optional = true }
thiserror = { version = "2.0.16", optional = true }
tokio = { version = "1.41", features = ["full"], optional = true }
unicode-width = { version = "0.2.1", optional = true }
urlencoding = { version = "2.1.3", optional = true }
uuid = { version = "1.18.1", features = ["v4"], optional = true }

# NOTE: clap completely removed per user requirements

[dev-dependencies]
# Development tools for testing hub itself
assert_cmd = "2.0"
predicates = "3.0"

[lib]
name = "hub"
path = "src/lib.rs"

[package.metadata.hub]
# Custom hub metadata section for hub configuration
restructured = "2025-09-21"
clap_removed = true
external_suffix = "-ext"
namespace_policy = "top-level reserved for oodx/rsb internal modules"

================================================================================

üéØ KEY CHANGES SUMMARY
=====================

## ‚ùå REMOVED (Clap Elimination):
- clap dependency and feature
- cli feature group
- deps-clap legacy feature
- All clap references in convenience groups

## üîÑ RENAMED (External Suffix):
- text ‚Üí text-ext
- data ‚Üí data-ext
- time ‚Üí time-ext
- web ‚Üí web-ext
- system ‚Üí system-ext
- dev ‚Üí dev-ext
- random ‚Üí random-ext
- async ‚Üí async-ext
- error ‚Üí error-ext
- common ‚Üí common-ext
- core ‚Üí core-ext (for external packages)
- extended ‚Üí extended-ext
- all ‚Üí all-ext

## ‚ûï ADDED (Clean Organization):
- test-ext group for testing utilities
- colors feature for internal color system
- ecosystem group for internal modules
- Mixed groups (starter, complete, everything)
- Better organization and documentation
- Version bump to 0.4.0 for breaking changes

## üèóÔ∏è RESERVED NAMESPACE:
- Top-level feature names reserved for oodx/rsb internal modules
- Clear separation between internal and external dependencies
- Future-ready for ecosystem expansion

================================================================================
üêî CHINA'S CERTIFICATION: EGG-CEPTIONAL STRUCTURE! ü•ö
This Cargo.toml structure provides clean separation, removes the hated clap,
and reserves the top-level namespace for internal oodx/rsb greatness!
================================================================================